<html>
<head>
<title>
Canvas
</title>
</head>
<body>
<div style='margin-left:auto;margin-right:auto'>
<canvas width="250" height="100" id="a" style='margin-left:auto;margin-right:auto'></canvas>
</div>
<script type = 'text/javascript'>
var TEXT_SIZE_PX = 48;
var TEXT_STYLE = "bold "+TEXT_SIZE_PX+"px verdana";
var OFFSET_X = 0;
var OFFSET_Y = 20;
var OFFSET_REFLECTED = 4;
var START_GRADIENT = '#bcd9f1';
var STOP_GRADIENT = '#6291c0';
var OUTLINE_STROKE = '#293a47';
var OUTLINE_THICKNESS = 2;
var TEXT = "brad\u0131 sh"
var a_canvas = document.getElementById("a");
var context = a_canvas.getContext("2d");

function Dot(x,y,ax,ay){
this.dt = 0.4
this.e = 0.02
this.width = 8
this.height = 8
this.x0 = x
this.y0 = y
this.x1 = x+1
this.y1 = y
this.ax = ax
this.ay = ay
this.floorx = 100
this.floory = TEXT_SIZE_PX
this.move = move
this.put = put
this.step = step
this.collide = collide
}

function move(){
newx = (2-this.e)*this.x1 - (1-this.e)*this.x0 + this.ax*this.dt*this.dt
newy = (2-this.e)*this.y1 - (1-this.e)*this.y0 + this.ay*this.dt*this.dt
this.x0 = this.x1
this.y0 = this.y1
this.x1 = newx
this.y1 = newy
}

function put(){
context.fillRect(this.x0,this.y0,this.width,this.height)
context.strokeRect(this.x0,this.y0,this.width,this.height)
}

function collide(){
//check left , right
if(
check(context.getImageData(this.x1+OFFSET_X+this.width,this.y1+OFFSET_Y,1,this.height).data)
||
check(context.getImageData(this.x1+OFFSET_X,this.y1+OFFSET_Y,1,this.height).data)
)
{
temp = this.x1
this.x1 = this.x0
this.x0 = temp
}

if(
check(context.getImageData(this.x1+OFFSET_X,this.y1+OFFSET_Y+this.height,this.width,1).data)
||
check(context.getImageData(this.x1+OFFSET_X,this.y1+OFFSET_Y,this.width,1).data)
||
this.y1+this.height > this.floory
)
{
temp = this.y1
this.y1 = this.y0
this.y0 = temp
}
}

function step(){
this.collide()
this.move()
this.put()
}

function check(a){
    for(i=0;i<a.length/4;i++){
        if(a[i]>0||a[i+1]>0||a[i+2]>0||a[i+3]>0){
            return true
        }
    }
return false
}

dot = new Dot(126.5,10,0,1)

function draw(){
OUT = TEXT
//create gradient
var gradient = context.createLinearGradient(0,0,0,TEXT_SIZE_PX);
gradient.addColorStop(0, START_GRADIENT);
gradient.addColorStop(1, STOP_GRADIENT);
//draw and stroke text
context.textBaseline = "alphabetic";
context.font = TEXT_STYLE;
context.fillStyle = gradient;
context.fillText(OUT,0,TEXT_SIZE_PX);
context.strokeStyle = OUTLINE_STROKE;
context.lineWidth = OUTLINE_THICKNESS;
context.strokeText(OUT,0,TEXT_SIZE_PX);
}
function world(){
context.clearRect(0,0,a_canvas.width,a_canvas.height)
//offset and position
context.save()
context.translate(OFFSET_X,OFFSET_Y)
//main text
draw()
dot.step();
//now flip and reflect
context.restore();
context.save();
context.scale(-1,1);
context.translate(0,2*TEXT_SIZE_PX+OFFSET_REFLECTED+OFFSET_Y);
context.rotate(Math.PI);
//Reflected text
draw();
dot.put()
//create a nice transparent gradient
fade = context.createLinearGradient(0, 0, 0, TEXT_SIZE_PX);
fade.addColorStop(1, "rgba(255,255,255,0.5)");
fade.addColorStop(0.75, "rgba(255,255,255,1)");
context.fillStyle = fade;
//and fade
context.fillRect(0, 0, a_canvas.width, TEXT_SIZE_PX + OUTLINE_THICKNESS);
context.restore()
}

world()
setTimeout('setInterval("world()",10)',1000)
</script>
</body>
</html>
